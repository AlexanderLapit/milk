{% extends "base.html" %}

{% block title %}–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–∞ ‚Ññ{{ report.id }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <h3>üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–∞</h3>

        <dl class="row">
            <dt class="col-sm-3">ID –æ—Ç—á—ë—Ç–∞:</dt>
            <dd class="col-sm-9">{{ report.id }}</dd>

            <dt class="col-sm-3">–¢–∏–ø:</dt>
            <dd class="col-sm-9">{{ report.report_type }}</dd>

            <dt class="col-sm-3">–ü–µ—Ä–∏–æ–¥:</dt>
            <dd class="col-sm-9">
                {% if report.period_start %}
                    {{ report.period_start.strftime('%d.%m.%Y') }}
                {% else %}‚Äî{% endif %}
                ‚Äî
                {% if report.period_end %}
                    {{ report.period_end.strftime('%d.%m.%Y') }}
                {% else %}‚Äî{% endif %}
            </dd>

            <dt class="col-sm-3">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</dt>
            <dd class="col-sm-9">{{ report.created_at.strftime('%d.%m.%Y %H:%M') }}</dd>
        </dl>

        <h5>–î–∞–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç–∞:</h5>
        <pre class="bg-light p-3 rounded border">
{
  "total_orders": {{ report.data.total_orders }},
  "total_revenue": {{ "%.2f"|format(report.data.total_revenue) }} —Ä—É–±.,
  "period_start": "{{ report.data.period_start }}",
  "period_end": "{{ report.data.period_end }}"
}
        </pre>

        <div class="mt-3">
            <a href="{{ url_for('main.export_report', id=report.id) }}" class="btn btn-success">üì• –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å JSON</a>
            <a href="{{ url_for('main.reports_list') }}" class="btn btn-secondary">–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
        </div>
    </div>
</div>
{% endblock %}